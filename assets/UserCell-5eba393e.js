import{o as d,_ as v}from"./@varlet-7ae03b61.js";import{r as t}from"./request-a0f91418.js";import{c as p,a as f}from"./index-87596f9d.js";import{u as g}from"./vue-router-bac0c6f6.js";import{q as C,h,M as k,J as o,s as c,L as r,K as i,I as w,z as y,Q as x}from"./@vue-64dd07d0.js";const q=e=>t.get(`/v1_0/articles/${e}`),$=e=>t.post("/v1_0/user/followings",{target:e}),L=e=>t.delete(`/v1_0/user/followings/${e}`),D=e=>t.post("/v1_0/article/likings",{target:e}),E=e=>t.delete(`/v1_0/article/likings/${e}`),J=e=>t.post("/v1_0/article/collections",e),K=e=>t.delete(`/v1_0/article/collections/${e}`),M=e=>t.get("/v1_0/comments",{params:e}),Q=e=>t.post("/v1_0/comments",e),R=e=>t.post("/v1_0/comment/likings",e),T=e=>t.delete(`/v1_0/comment/likings/${e}`),U={class:"user-cell"},A={class:"user-img"},B={class:"user-name-box"},S=C({__name:"UserCell",props:{user_id:null,user_name:null,is_followed:{type:Boolean},user_photo:null},setup(e){const l=e,s=h(l.is_followed),n=g();async function _(){if(p(n))try{s.value?(await L(l.user_id),s.value=!1):(await $(l.user_id),s.value=!0)}catch{n.push("/login")}}return(a,b)=>{const u=d,m=v;return y(),k("div",U,[o("div",null,[o("div",A,[c(u,{lazy:"",src:e.user_photo,width:"50",height:"50",alt:e.user_name},null,8,["src","alt"])]),o("div",B,[o("div",null,r(e.user_name),1),i(a.$slots,"time",{},void 0,!0),i(a.$slots,"fansCount",{},void 0,!0)])]),c(m,{onClick:_,size:"small",text:!s.value,outline:"",type:"primary"},{default:w(()=>[x(r(s.value?"已关注":"+ 关注"),1)]),_:1},8,["text"])])}}});const j=f(S,[["__scopeId","data-v-658a34ed"]]);export{j as U,D as a,K as b,J as c,M as d,T as e,R as f,q as g,Q as s,E as t};
